<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Carrusel de Testimonios</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<style>
:root {
  --primary: #00ffc0;
  --dark-bg: #1a1f3f;
  --text-light: #fff;
  --radius: 14px;
}

body {
  margin: 0;
  font-family: "Montserrat", sans-serif;
  background: var(--dark-bg);
  color: var(--text-light);
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
}

.testimonial-slider {
  position: relative;
  max-width: 700px;
  overflow: hidden;
  border-radius: var(--radius);
  backdrop-filter: blur(15px);
  background: rgba(42, 55, 96, 0.85);
  padding: 40px 20px;
  box-shadow: 0 8px 30px rgba(0,0,0,0.4);
}

.testimonial-track {
  display: flex;
}

.testimonial {
  min-width: 100%;
  box-sizing: border-box;
  text-align: center;
  padding: 20px;
  transition: all 0.3s ease;
}

.testimonial p {
  font-size: 1.1rem;
  opacity: 0.9;
  margin-bottom: 10px;
}

.testimonial h3 {
  margin-top: 5px;
  font-weight: 600;
  font-size: 1.1rem;
  color: var(--primary);
}

.slider-btn {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(0, 255, 192, 0.15);
  border: 2px solid var(--primary);
  color: var(--primary);
  font-size: 1.8rem;
  cursor: pointer;
  padding: 10px 14px;
  border-radius: 50%;
  transition: all 0.3s ease;
}
.slider-btn:hover {
  background: var(--primary);
  color: var(--dark-bg);
  box-shadow: 0 0 20px rgba(0, 255, 192, 0.6);
}
.slider-btn.prev { left: 10px; }
.slider-btn.next { right: 10px; }

.slider-dots {
  text-align: center;
  margin-top: 15px;
}
.slider-dots button {
  background: rgba(255, 255, 255, 0.3);
  border: none;
  width: 12px;
  height: 12px;
  margin: 0 5px;
  border-radius: 50%;
  cursor: pointer;
  transition: background 0.3s ease, transform 0.3s ease;
}
.slider-dots button.active {
  background: var(--primary);
  transform: scale(1.3);
}

@media (max-width: 600px) {
  .testimonial-slider { padding: 30px 10px; }
  .testimonial p { font-size: 1rem; }
  .slider-btn { font-size: 1.5rem; padding: 8px 12px; }
}
</style>
</head>
<body>

<div class="testimonial-slider">
  <div class="testimonial-track">
    <div class="testimonial">
      <p>“Excelente servicio y atención, mis resultados fueron increíbles.”</p>
      <h3>- Laura M.</h3>
    </div>
    <div class="testimonial">
      <p>“El plan de nutrición fue muy fácil de seguir y los cambios se notaron rápido.”</p>
      <h3>- Carlos G.</h3>
    </div>
    <div class="testimonial">
      <p>“Me siento con más energía que nunca, ¡totalmente recomendado!”</p>
      <h3>- Andrea P.</h3>
    </div>
  </div>

  <button class="slider-btn prev">&#10094;</button>
  <button class="slider-btn next">&#10095;</button>
  <div class="slider-dots"></div>
</div>

<script>
const track = document.querySelector('.testimonial-track');
const testimonials = document.querySelectorAll('.testimonial');
const dotsContainer = document.querySelector('.slider-dots');
const prevBtn = document.querySelector('.slider-btn.prev');
const nextBtn = document.querySelector('.slider-btn.next');
let currentIndex = 0;
let interval;

// Crear dots dinámicamente
testimonials.forEach((_, i) => {
  const dot = document.createElement('button');
  dot.addEventListener('click', () => {
    stopSlider();
    showTestimonial(i);
    startSlider();
  });
  dotsContainer.appendChild(dot);
});

function showTestimonial(index) {
  gsap.to(track, {
    x: `-${index * 100}%`,
    duration: 1.2,
    ease: "elastic.out(1, 0.5)",
    onComplete: () => {
      gsap.to(testimonials, { scale: 1, boxShadow: "none", opacity: 1, duration: 0.2 });

      const active = testimonials[index];
      const content = active.querySelectorAll("p, h3");

      gsap.fromTo(active,
        { scale: 0.95, boxShadow: "none" },
        { scale: 1.03, boxShadow: "0 12px 35px rgba(0, 255, 192, 0.6)", duration: 0.5, ease: "back.out(1.4)" }
      );

      gsap.fromTo(content,
        { opacity: 0, y: 15 },
        { opacity: 1, y: 0, duration: 0.6, ease: "power3.out", stagger: 0.1 }
      );
    }
  });

  dotsContainer.querySelectorAll('button').forEach((dot, i) => {
    dot.classList.toggle('active', i === index);
  });

  currentIndex = index;
}

function nextTestimonial() {
  let nextIndex = (currentIndex + 1) % testimonials.length;
  showTestimonial(nextIndex);
}

function prevTestimonial() {
  let prevIndex = (currentIndex - 1 + testimonials.length) % testimonials.length;
  showTestimonial(prevIndex);
}

function startSlider() {
  interval = setInterval(nextTestimonial, 5000);
}

function stopSlider() {
  clearInterval(interval);
}

nextBtn.addEventListener('click', () => {
  stopSlider();
  nextTestimonial();
  startSlider();
});
prevBtn.addEventListener('click', () => {
  stopSlider();
  prevTestimonial();
  startSlider();
});

showTestimonial(0);
startSlider();
</script>

</body>
</html>
