<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Gerard Valls - Nutrición Profesional</title>
<link rel="icon" href="https://i.imgur.com/bsWQ2lX.png">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css" rel="stylesheet">
<style>
:root{
  --color-primary:#00ffc0;
  --color-primary-hover:#00e6b8;
  --color-dark:#1f2937;
  --color-light:#f5f5f5;
  --text-dark:#e6e6e6;
  --text-light:#222;
  --shadow:rgba(0,0,0,0.3);
  --radius:16px;
  --transition:all 0.4s ease;
  --btn:#00b894;
  --btn-hover:#008f6b;
}
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:'Montserrat',sans-serif; background:var(--color-dark); color:var(--text-dark); transition:var(--transition); overflow-x:hidden; scroll-behavior:smooth;}
body.light{background:var(--color-light); color:var(--text-light);}
nav{position:sticky; top:0; background:rgba(31,41,55,0.9); backdrop-filter:blur(10px); display:flex; justify-content:center; gap:2rem; padding:14px 20px; z-index:1000; transition:var(--transition);}
body.light nav{background:rgba(245,245,245,0.95);}
nav a{font-weight:600; color:white; text-decoration:none; transition:0.3s;}
body.light nav a{color:var(--text-light);}
nav a:hover{color:var(--color-primary-hover);}
header{position:relative; text-align:center; padding:180px 20px 140px; overflow:hidden; color:white; perspective:2000px;}
header canvas{position:absolute; top:0; left:0; width:100%; height:100%; z-index:0;}
header h1,header p,header .cta-btn,header .toggle-theme{position:relative; z-index:1; transition:transform 0.6s ease;}
header h1{font-size:3rem; margin-bottom:20px; font-weight:700; transform:translateZ(50px);}
header p{font-size:1.3rem; margin-bottom:30px; transform:translateZ(40px);}
header .cta-btn{background:var(--btn); color:white; padding:16px 32px; border-radius:var(--radius); border:none; font-weight:600; cursor:pointer;}
header .cta-btn:hover{background:var(--btn-hover); transform:translateY(-4px);}
header .toggle-theme{margin-left:15px; padding:10px 20px; border-radius:12px; background:rgba(0,0,0,0.4); cursor:pointer;}
header .toggle-theme:hover{background:rgba(0,0,0,0.6);}
main.wrapper{max-width:1200px; margin:50px auto; padding:50px 30px 70px; border-radius:var(--radius); background:rgba(31,41,55,0.85); backdrop-filter:blur(15px); box-shadow:0 15px 45px var(--shadow); text-align:center; transition:var(--transition);}
body.light main.wrapper{background:rgba(245,245,245,0.95);}
section{margin-bottom:80px;}
h2{font-size:2.2rem; margin-bottom:35px; position:relative;}
h2::after{content:""; width:70px; height:4px; background:var(--color-primary); display:block; margin:10px auto 0; border-radius:2px;}
.services{display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); gap:40px;}
.service{padding:30px; border-radius:var(--radius); display:flex; flex-direction:column; align-items:center; text-align:center; cursor:pointer; transition:transform 0.6s, box-shadow 0.6s; background:var(--color-dark); box-shadow: 8px 8px 20px rgba(0,0,0,0.3), -8px -8px 20px rgba(255,255,255,0.05);}
body.light .service{background:var(--color-light); box-shadow: 8px 8px 20px rgba(0,0,0,0.1), -8px -8px 20px rgba(255,255,255,0.6);}
.service i{font-size:3.5rem; margin-bottom:18px; color:var(--color-primary); transition:transform 0.6s ease;}
.service:hover{transform:translateY(-15px) scale(1.03);}
.testimonials{position:relative; overflow:hidden; max-width:850px; margin:0 auto; min-height:140px;}
.testimonial{position:absolute; top:0; left:100%; width:100%; opacity:0; display:flex; flex-direction:column; align-items:center; text-align:center; padding:30px; transition:all 0.8s ease;}
.testimonial.active{left:0; opacity:1;}
.testimonial.prev{left:-100%; opacity:0;}
.testimonial-btn{position:absolute; top:50%; transform:translateY(-50%); background:rgba(0,0,0,0.5); color:white; border:none; padding:14px 18px; font-size:1.5rem; cursor:pointer; border-radius:50%; transition:0.3s; z-index:10;}
.testimonial-btn:hover{background:var(--btn);}
.testimonial-btn.prev{left:10px;}
.testimonial-btn.next{right:10px;}
.testimonial-indicators{display:flex; justify-content:center; gap:10px; margin-top:20px;}
.testimonial-indicators span{width:12px; height:12px; border-radius:50%; background:rgba(255,255,255,0.3); cursor:pointer; transition:0.3s;}
.testimonial-indicators span.active{background:var(--btn);}
form{display:grid; gap:15px; margin-top:20px; max-width:600px; margin-left:auto; margin-right:auto;}
input,textarea{padding:15px; border-radius:16px; border:none; font-size:1rem; background:var(--color-dark); box-shadow: 6px 6px 15px rgba(0,0,0,0.3), -6px -6px 15px rgba(255,255,255,0.05); transition:0.3s; color:white;}
body.light input,body.light textarea{background:var(--color-light); box-shadow: 6px 6px 15px rgba(0,0,0,0.1), -6px -6px 15px rgba(255,255,255,0.6); color:var(--text-light);}
input:focus,textarea:focus{outline:none; box-shadow: inset 3px 3px 8px rgba(0,0,0,0.3), inset -3px -3px 8px rgba(255,255,255,0.1);}
input[aria-invalid="true"],textarea[aria-invalid="true"]{box-shadow: 0 0 0 3px #ff4d4d;}
button{background:var(--btn); color:white; border:none; padding:16px 26px; border-radius:var(--radius); cursor:pointer; font-weight:600; transition:0.3s;}
button:hover{background:var(--btn-hover); transform:translateY(-2px);}
footer{text-align:center; padding:25px; font-size:0.9rem; background:rgba(0,0,0,0.6); color:#ccc; backdrop-filter:blur(5px);}
#scrollTopBtn{position:fixed; bottom:60px; right:20px; z-index:1000; background:var(--btn); color:white; border:none; padding:16px 20px; border-radius:50%; font-size:1.3rem; display:none; cursor:pointer; transition:0.3s;}
#scrollTopBtn:hover{transform:scale(1.1); background:var(--btn-hover);}
@media(max-width:700px){header h1{font-size:2.2rem;} header p{font-size:1rem;} .services{grid-template-columns:1fr;}}
</style>
</head>
<body>

<header>
<canvas id="particles" aria-hidden="true"></canvas>
<h1 data-aos="fade-up" data-depth="0.5">Gerard Valls</h1>
<p data-aos="fade-up" data-aos-delay="200" data-depth="0.3">Nutrición personalizada para deportistas y personas activas</p>
<button class="cta-btn" data-aos="fade-up" data-aos-delay="400" data-depth="0.2">Solicita tu consulta</button>
<button class="toggle-theme" id="toggle-theme" data-aos="fade-up" data-aos-delay="500">Cambiar a modo claro</button>
</header>

<nav>
<a href="#servicios">Servicios</a>
<a href="#testimonios">Testimonios</a>
<a href="#consulta">Formulario</a>
</nav>

<main class="wrapper">
<section id="servicios" data-aos="fade-up">
<h2>Servicios</h2>
<div class="services">
<div class="service" data-depth="0.1"><i class="fas fa-apple-alt"></i><h3>Planes Personalizados</h3><p>Planes adaptados a tus necesidades.</p></div>
<div class="service" data-depth="0.2"><i class="fas fa-dumbbell"></i><h3>Asesoría Deportiva</h3><p>Mejora tu rendimiento físico.</p></div>
<div class="service" data-depth="0.15"><i class="fas fa-weight"></i><h3>Pérdida de Peso</h3><p>Programas saludables y efectivos.</p></div>
<div class="service" data-depth="0.18"><i class="fas fa-laptop"></i><h3>Consultas Online</h3><p>Desde cualquier lugar y momento.</p></div>
</div>
</section>

<section id="testimonios" data-aos="fade-up">
<h2>Testimonios</h2>
<div class="testimonials">
  <div class="testimonial active"><p>"Excelente nutricionista, logré mis objetivos."</p><span>- Laura G.</span></div>
  <div class="testimonial"><p>"Atención profesional y personalizada."</p><span>- Carlos M.</span></div>
  <div class="testimonial"><p>"Recomiendo sus planes a todos los deportistas."</p><span>- Ana R.</span></div>
  <button class="testimonial-btn prev">‹</button>
  <button class="testimonial-btn next">›</button>
  <div class="testimonial-indicators">
    <span class="active"></span><span></span><span></span>
  </div>
</div>
</section>

<section id="consulta" data-aos="fade-up">
<h2>Formulario de contacto</h2>
<form id="contact-form" action="https://formspree.io/f/mnqwerty" method="POST">
<label for="name">Nombre completo</label>
<input type="text" name="name" id="name" required aria-describedby="error-name"/>
<span class="error-msg" id="error-name" aria-live="polite"></span>
<label for="email">Correo electrónico</label>
<input type="email" name="email" id="email" required aria-describedby="error-email"/>
<span class="error-msg" id="error-email" aria-live="polite"></span>
<label for="message">Mensaje</label>
<textarea name="message" id="message" required rows="5" aria-describedby="error-message"></textarea>
<span class="error-msg" id="error-message" aria-live="polite"></span>
<button type="submit">Enviar</button>
<span class="form-feedback" id="form-feedback" role="alert" aria-live="polite"></span>
</form>
</section>
</main>

<footer>&copy; 2025 Gerard Valls - Todos los derechos reservados.</footer>
<button id="scrollTopBtn">↑</button>

<script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
<script>
AOS.init({duration:800,easing:'ease-out',once:true,mirror:false});

// Tema
const toggleBtn=document.getElementById('toggle-theme');
let darkMode=localStorage.getItem('darkMode')!=='false';
const setTheme=()=>{document.body.classList.toggle('light',!darkMode); toggleBtn.textContent=darkMode?'Cambiar a modo claro':'Cambiar a modo oscuro'; localStorage.setItem('darkMode',darkMode);}
toggleBtn.onclick=()=>{darkMode=!darkMode; setTheme();}
setTheme();

// ScrollTop
const scrollBtn=document.getElementById('scrollTopBtn');
window.onscroll=()=>{scrollBtn.style.display=(window.scrollY>200)?"block":"none";}
scrollBtn.onclick=()=>{window.scrollTo({top:0,behavior:'smooth'});}

// Partículas con conexión
const canvas=document.getElementById('particles');const ctx=canvas.getContext('2d');let w,h,particles=[];
function resizeCanvas(){w=canvas.width=canvas.offsetWidth; h=canvas.height=canvas.offsetHeight; particles=[]; let count=w<700?30:60; for(let i=0;i<count;i++){particles.push({x:Math.random()*w,y:Math.random()*h,vx:(Math.random()-0.5)*0.5,vy:(Math.random()-0.5)*0.5,r:Math.random()*2+1});}}
window.addEventListener('resize',resizeCanvas);resizeCanvas();
function animateParticles(){ctx.clearRect(0,0,w,h); for(let p of particles){p.x+=p.vx;p.y+=p.vy;if(p.x<0)p.x=w;if(p.x>w)p.x=0;if(p.y<0)p.y=h;if(p.y>h)p.y=0;ctx.beginPath();ctx.arc(p.x,p.y,p.r,0,Math.PI*2);ctx.fillStyle='rgba(0,255,192,0.6)';ctx.fill();} for(let i=0;i<particles.length;i++){for(let j=i+1;j<particles.length;j++){let dx=particles[i].x-particles[j].x;let dy=particles[i].y-particles[j].y;let dist=Math.sqrt(dx*dx+dy*dy); if(dist<80){ctx.beginPath();ctx.strokeStyle='rgba(0,255,192,'+(1-dist/80)*0.3+')';ctx.lineWidth=1;ctx.moveTo(particles[i].x,particles[i].y); ctx.lineTo(particles[j].x,particles[j].y); ctx.stroke();}}} requestAnimationFrame(animateParticles);}
animateParticles();

// Microparallax en header y servicios
document.addEventListener('mousemove',e=>{
  const x=e.clientX/window.innerWidth-0.5;
  const y=e.clientY/window.innerHeight-0.5;
  document.querySelectorAll('[data-depth]').forEach(el=>{
    const depth=el.getAttribute('data-depth');
    el.style.transform=`translateX(${x*depth*30}px) translateY(${y*depth*30}px)`;
  });
});

// Slider testimonios
const slides=document.querySelectorAll('.testimonial');
const indicators=document.querySelectorAll('.testimonial-indicators span');
let current=0;
let interval=setInterval(nextSlide,5000);
function showSlide(index){slides.forEach((s,i)=>{s.classList.remove('active','prev'); if(i===index)s.classList.add('active'); if(i===current)s.classList.add('prev'); indicators[i].classList.toggle('active',i===index);}); current=index;}
function nextSlide(){showSlide((current+1)%slides.length);}
function prevSlide(){showSlide((current-1+slides.length)%slides.length);}
document.querySelector('.testimonial-btn.next').onclick=()=>{nextSlide(); resetInterval();}
document.querySelector('.testimonial-btn.prev').onclick=()=>{prevSlide(); resetInterval();}
function resetInterval(){clearInterval(interval); interval=setInterval(nextSlide,5000);}

// Formulario
const form=document.getElementById('contact-form'), name=form.name,email=form.email,message=form.message,feedback=document.getElementById('form-feedback');
const debounce=(fn,delay=300)=>{let t;return(...a)=>{clearTimeout(t);t=setTimeout(()=>fn(...a),delay);};};
const validate=(f)=>{
  if(f===name){name.value.trim()===""?name.setAttribute('aria-invalid','true')&&(document.getElementById('error-name').textContent="Por favor, introduce tu nombre."):name.setAttribute('aria-invalid','false')&&(document.getElementById('error-name').textContent="");}
  if(f===email){const p=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;(!email.value.trim()||!p.test(email.value.trim()))?email.setAttribute('aria-invalid','true')&&(document.getElementById('error-email').textContent="Correo no válido."):email.setAttribute('aria-invalid','false')&&(document.getElementById('error-email').textContent="");}
  if(f===message){message.value.trim().length<10?message.setAttribute('aria-invalid','true')&&(document.getElementById('error-message').textContent="El mensaje debe tener al menos 10 caracteres."):message.setAttribute('aria-invalid','false')&&(document.getElementById('error-message').textContent="");}
};
[name,email,message].forEach(f=>f.addEventListener('input',debounce(()=>validate(f),300)));
form.onsubmit=async e=>{
  e.preventDefault();
  [name,email,message].forEach(f=>validate(f));
  if([name,email,message].some(f=>f.getAttribute('aria-invalid')==='true'))return;
  const data=new FormData(form);
  try{
    const res=await fetch(form.action,{method:'POST',body:data,headers:{'Accept':'application/json'}});
    if(res.ok){feedback.style.color='#00c853';feedback.textContent='¡Mensaje enviado correctamente!'; form.reset(); setTimeout(()=>feedback.textContent='',5000);}
    else{throw new Error('Error');}
  }catch(err){feedback.style.color='#ff4d4d';feedback.textContent='Error al enviar el mensaje';}
};
</script>
</body>
</html>
