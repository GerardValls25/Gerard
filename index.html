<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gerard Valls - Nutrici√≥n Profesional</title>
<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">

<!-- Font Awesome -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

<!-- GSAP -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.13.0/gsap.min.js" defer></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.13.0/ScrollTrigger.min.js" defer></script>

<style>
:root {
  --primary: #00ffc0;
  --primary-hover: #00e6b8;
  --secondary: #ffbf00;
  --dark-bg: #1a1f3f;
  --light-bg: #eaeaea;
  --text-dark: #e6e6e6;
  --text-light: #222;
  --radius: 16px;
  --transition: .5s ease;
  --shadow: 0 8px 25px rgba(0,0,0,0.3);
  --badge-shadow: 0 0 20px rgba(255,191,0,0.6);
}

* { box-sizing: border-box; }
body {
  margin: 0;
  font-family: 'Montserrat', sans-serif;
  background: var(--dark-bg);
  color: var(--text-dark);
  line-height: 1.6;
  overflow-x: hidden;
  transition: background var(--transition), color var(--transition);
}
body.light {
  background: var(--light-bg);
  color: var(--text-light);
}

/* LINKS */
a { text-decoration: none; color: var(--primary); transition: .3s; }
a:hover { color: var(--primary-hover); }

/* HEADER */
header {
  text-align: center;
  padding: 120px 20px 80px;
  position: relative;
}
header h1 {
  font-size: 3rem;
  background: linear-gradient(90deg,#00ffc0,#00bfff,#ff00c8,#ffbf00);
  -webkit-background-clip: text;
  color: transparent;
  text-shadow: 0 0 15px rgba(0,255,192,0.4);
  animation: gradMove 12s linear infinite;
}
header p {
  margin-top: 12px;
  font-size: 1.3rem;
  text-shadow: 0 2px 8px rgba(0,0,0,0.3);
  opacity: 0;
  transform: translateY(20px);
  animation: fadeInUp 1s forwards 0.5s;
}
#toggle-theme {
  margin-top: 20px;
  background: var(--primary);
  color: #000;
  border: none;
  padding: 14px 28px;
  border-radius: var(--radius);
  cursor: pointer;
  font-weight: 600;
  transition: .4s;
}
#toggle-theme:hover { background: var(--primary-hover); transform: translateY(-2px); }

@keyframes gradMove {
  0% { background-position: 0 0; }
  50% { background-position: 100% 0; }
  100% { background-position: 0 0; }
}
@keyframes fadeInUp { to { opacity: 1; transform: translateY(0); } }

/* NAV */
nav {
  position: sticky;
  top: 0;
  background: rgba(42,55,96,0.85);
  backdrop-filter: blur(10px);
  display: flex;
  justify-content: center;
  gap: 1rem;
  padding: 12px;
  z-index: 1000;
}
body.light nav { background: rgba(255,255,255,0.9); }
nav a { font-weight: 600; }

/* MAIN WRAPPER */
main.wrapper {
  max-width: 1200px;
  margin: 40px auto;
  padding: 50px 30px 60px;
  border-radius: var(--radius);
  backdrop-filter: blur(15px);
  background: rgba(42,55,96,0.85);
  text-align: center;
  transition: background var(--transition);
}
body.light main.wrapper { background: rgba(255,255,255,0.9); }

/* TITULOS */
h2 {
  font-size: 2rem;
  margin-bottom: 20px;
  position: relative;
  display: inline-block;
}
h2::after {
  content: "";
  width: 60px;
  height: 3px;
  display: block;
  margin: 8px auto 0;
  border-radius: 2px;
  background: var(--primary);
  transform: scaleX(0);
  animation: lineDraw 1s forwards;
}
@keyframes lineDraw { to { transform: scaleX(1); } }

/* SERVICIOS */
.services {
  display: grid;
  grid-template-columns: repeat(auto-fit,minmax(250px,1fr));
  gap: 30px;
  perspective: 1200px;
}
.service-inner {
  position: relative;
  width: 100%;
  min-height: 250px;
  transform-style: preserve-3d;
  transition: transform 0.8s ease;
}
.service:hover .service-inner { transform: rotateY(180deg); }
.service-front, .service-back {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  border-radius: var(--radius);
  padding: 25px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  transition: .4s;
}
.service-front {
  background: rgba(255,255,255,0.05);
  box-shadow: var(--shadow);
}
.service-back {
  background: linear-gradient(135deg,#00ffc0,#00bfff);
  transform: rotateY(180deg);
  color: #000;
  text-align: left;
}
.service-back ul { margin:0; padding-left:20px; }
.service-back button {
  margin-top:12px;
  background:white;
  color:var(--primary);
  font-weight:bold;
  border:none;
  padding:12px 16px;
  border-radius:var(--radius);
  cursor:pointer;
  transition:.3s;
}
.service-back button:hover { background:var(--primary); color:#000; }
.icon-planes, .icon-deporte, .icon-peso, .icon-online {
  color:#fff;
  border-radius:50%;
  padding:12px;
  font-size:2.5rem;
  transition: transform .4s, box-shadow .4s;
}
.icon-planes { background:#4caf50; box-shadow:0 0 15px rgba(76,175,80,0.6); }
.icon-deporte { background:#2196f3; box-shadow:0 0 15px rgba(33,150,243,0.6); }
.icon-peso { background:#ff9800; box-shadow:0 0 15px rgba(255,152,0,0.6); }
.icon-online { background:#9c27b0; box-shadow:0 0 15px rgba(156,39,176,0.6); }
.service:hover .service-front i { transform: scale(1.3) rotate(8deg); animation: glowPulse 1.2s infinite; }
@keyframes glowPulse { 0%{box-shadow:0 0 5px rgba(255,255,255,0.4);}50%{box-shadow:0 0 25px rgba(255,255,255,0.9);}100%{box-shadow:0 0 5px rgba(255,255,255,0.4);} }

/* BENEFICIOS INCLUIDOS */
#incluye-todos {
  margin: 60px auto;
  padding: 40px;
  max-width: 850px;
  border-radius: 24px;
  background: rgba(255,255,255,0.05);
  backdrop-filter: blur(20px);
  box-shadow: var(--shadow);
  transition: background var(--transition);
}
#incluye-todos ul { list-style: none; padding: 0; margin:0; }
#incluye-todos li { margin: 12px 0; display:flex; align-items:center; gap:12px; font-size:1rem; transition:.3s; }
#incluye-todos li i { color: var(--primary); }
#incluye-todos p {
  margin-top:20px;
  font-weight:bold;
  color:var(--secondary);
  animation: blink 1.5s infinite;
}
@keyframes blink { 0%,50%,100%{opacity:1;} 25%,75%{opacity:0.6;} }

/* TESTIMONIOS */
.testimonios-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px,1fr));
  gap: 30px;
  margin-top: 40px;
}
.testimonio-card {
  background: rgba(255,255,255,0.05);
  backdrop-filter: blur(20px);
  border-radius: 20px;
  padding: 30px;
  box-shadow: var(--shadow);
  transition: transform .4s ease, box-shadow .4s ease;
}
body.light .testimonio-card { background: rgba(255,255,255,0.9); }
.testimonio-card:hover { transform: translateY(-8px); box-shadow: 0 15px 35px rgba(0,0,0,0.3); }
.testimonio-text { font-style: italic; margin-bottom: 20px; line-height:1.6; }
.testimonio-user strong { display:block; font-weight:600; }
.testimonio-user span { font-size:0.9rem; opacity:0.7; }

/* FORMULARIO */
.glass-form {
  display:flex;
  flex-direction: column;
  gap:20px;
  margin-top:20px;
  padding:35px;
  border-radius:20px;
  background: rgba(255,255,255,0.05);
  backdrop-filter: blur(20px);  /* ‚úÖ corregido */
  border:1px solid rgba(255,255,255,0.2);
  box-shadow: 0 10px 40px rgba(0,0,0,0.2);
  transition: background var(--transition);
  position: relative;
}
body.light .glass-form {
  background: rgba(255,255,255,0.3);
  border: 1px solid rgba(0,0,0,0.1);
}
.form-group { position: relative; }
.form-group input, .form-group textarea {
  width: 100%;
  padding: 16px 14px 16px 36px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.3);
  background: rgba(255,255,255,0.1);
  color: white;
  font-size: 1rem;
  transition: .3s;
}
body.light .form-group input, body.light .form-group textarea {
  background: #fff;
  color: #222;
  border: 1px solid #bbb;
}
.form-group label {
  position: absolute;
  left:36px;
  top:50%;
  transform: translateY(-50%);
  color: rgba(255,255,255,0.6);
  transition:.3s;
}
body.light .form-group label {
  color: #555;
  background: #fff;
  padding: 0 6px;
}
.form-group input:focus, .form-group textarea:focus {
  outline:none;
  border-color: var(--primary);
  box-shadow: 0 0 20px var(--primary);
}
.form-group input:focus + label,
.form-group textarea:focus + label,
.form-group input:not(:placeholder-shown) + label,
.form-group textarea:not(:placeholder-shown) + label {
  color: var(--primary);
}
.icon-input {
  position:absolute;
  left:12px;
  top:50%;
  transform: translateY(-50%);
  color: rgba(255,255,255,0.6);
  pointer-events:none;
  font-size:1rem;
  transition: all .3s ease;
}
body.light .icon-input {
  color:#555;
}
.form-group input:focus ~ .icon-input,
.form-group textarea:focus ~ .icon-input,
.form-group input:not(:placeholder-shown) ~ .icon-input,
.form-group textarea:not(:placeholder-shown) ~ .icon-input {
  color: var(--primary);
  transform: translateY(-50%) scale(1.2);
}

/* BOTONES FIJOS */
#scrollTopBtn {
  position: fixed;
  bottom: 60px;
  right: 20px;
  background: var(--primary);
  color: white;
  border:none;
  padding:14px 18px;
  border-radius:50%;
  font-size:1.3rem;
  display:none;
  cursor:pointer;
  opacity:0;
  transition:.3s;
}
#scrollTopBtn.show { display:block; opacity:1; }

#whatsappBtn {
  position: fixed;
  bottom: 120px;
  right: 20px;
  background: #25d366;
  color: white;
  width: 60px;
  height: 60px;
  border-radius:50%;
  display: none;
  align-items: center;
  justify-content: center;
  font-size:2rem;
  box-shadow:0 8px 20px rgba(0,0,0,0.3);
  z-index:999;
  transition: transform .3s, box-shadow .3s, opacity .3s;
  opacity:0;
}
#whatsappBtn.show { display:flex; opacity:1; }

/* RESPONSIVE */
@media (max-width:768px) {
  header h1 { font-size: 2.2rem; }
  header p { font-size:1.1rem; }
  .services { grid-template-columns: 1fr; }
}
.hero-content {
  max-width: 800px;
  margin: 0 auto 40px; 
  text-align: center;
}
.hero-main {
  font-size: 2rem;
  font-weight: 700;
  line-height: 1.2;
  margin-bottom: 12px;
  background: linear-gradient(90deg, #00ffc0, #00bfff, #ff00c8, #ffbf00);
  -webkit-background-clip: text;
  color: transparent;
}
.hero-sub {
  font-size: 1.1rem;
  opacity: 0.9;
  margin-bottom: 20px;
  color: rgba(255,255,255,0.9);
}
.hero-checks {
  display: flex;
  justify-content: center;
  gap: 25px;
  flex-wrap: wrap;
}
.hero-checks span {
  position: relative;
  font-size: 0.95rem;
  font-weight: 600;
  padding-left: 20px;
}
.hero-checks span::before {
  content: "‚úî";
  position: absolute;
  left: 0;
  color: #00ffc0;
  font-weight: bold;
}

/* ===== NUEVO: Parpadeo header y contador de plazas ===== */
@keyframes blinkPlazas {
  0%, 50%, 100% { opacity: 1; }
  25%, 75% { opacity: 0.4; }
}

.blink {
  animation: blinkPlazas 1.5s infinite;
}
/* Glow rojo urgente */
.glow-urgente {
  box-shadow: 0 0 25px rgba(255,0,0,0.7),
              0 0 50px rgba(255,0,0,0.4);
  animation: glowPulseUrgente 1.2s infinite alternate;
}

@keyframes glowPulseUrgente {
  from { box-shadow: 0 0 15px rgba(255,0,0,0.5); }
  to { box-shadow: 0 0 40px rgba(255,0,0,0.9); }
}
</style>
</head>
<body>

<header>
  <h1>Transforma tu cuerpo sin dietas extremas</h1>

  <p style="font-size:1.3rem; margin-top:18px; max-width:750px; margin-left:auto; margin-right:auto;">
    Programa de nutrici√≥n estrat√©gica y entrenamiento personalizado 
    para perder grasa, ganar m√∫sculo y mantener resultados reales.
  </p>

  <div style="margin-top:18px; font-weight:600; color:var(--secondary);">
    ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê 4.9/5 basado en 187 valoraciones verificadas
  </div>

  <div style="margin-top:8px; opacity:0.9;">
    M√°s de 200 clientes transformados en Espa√±a
  </div>

  <div style="margin-top:30px;">
    <button onclick="location.href='#consulta'" 
      style="background:var(--secondary);color:#000;padding:16px 36px;border:none;border-radius:var(--radius);font-weight:700;cursor:pointer;margin-right:15px;">
      RESERVAR EVALUACI√ìN GRATUITA
    </button>

    <button onclick="location.href='#planes'" 
      style="background:transparent;color:var(--primary);padding:16px 36px;border:2px solid var(--primary);border-radius:var(--radius);font-weight:600;cursor:pointer;">
      VER PROGRAMAS
    </button>
  </div>

  <!-- ‚ö†Ô∏è Mensaje de plazas disponibles -->
  <p id="header-plazas" style="margin-top:20px; font-weight:600; color:var(--secondary);">
    Actualmente solo acepto <span id="header-plazas-num">8</span> nuevos clientes este mes para garantizar seguimiento personalizado.
  </p>

  <button id="toggle-theme" style="margin-top:25px;">Cambiar a modo claro</button>
</header>

<nav>
<a href="#servicios">Servicios</a>
<a href="#testimonios">Testimonios</a>
<a href="#consulta">Formulario</a>
<a href="calculadora.html" target="_blank">Calculadora</a>
<a href="imc.html" target="_blank">IMC</a>
</nav>

<main class="wrapper">

<!-- SERVICIOS -->
<section id="servicios">
<h2>Servicios</h2>
<div class="services">
<div class="service">
<div class="service-inner">
<div class="service-front">
<i class="fas fa-bowl-food icon-planes"></i>
<h3>Planes Personalizados</h3>
<p>Adaptados a tu estilo de vida y objetivos.</p>
</div>
<div class="service-back">
<ul>
<li>Evaluaci√≥n inicial completa</li>
<li>Plan nutricional flexible</li>
<li>Seguimiento quincenal</li>
</ul>
<button onclick="location.href='#consulta'">Solicitar</button>
</div>
</div>
</div>

<div class="service">
<div class="service-inner">
<div class="service-front">
<i class="fas fa-person-running icon-deporte"></i>
<h3>Asesor√≠a Deportiva</h3>
<p>Optimiza tu rendimiento y recuperaci√≥n.</p>
</div>
<div class="service-back">
<ul>
<li>Plan de macronutrientes</li>
<li>Recomendaciones de suplementaci√≥n</li>
<li>Ajuste de cargas de entrenamiento</li>
</ul>
<button onclick="location.href='#consulta'">Solicitar</button>
</div>
</div>
</div>

<div class="service">
<div class="service-inner">
<div class="service-front">
<i class="fas fa-scale-balanced icon-peso"></i>
<h3>P√©rdida de Peso</h3>
<p>Programas sostenibles y personalizados.</p>
</div>
<div class="service-back">
<ul>
<li>Reducci√≥n de grasa saludable</li>
<li>H√°bitos de alimentaci√≥n duraderos</li>
<li>Soporte psicol√≥gico</li>
</ul>
<button onclick="location.href='#consulta'">Solicitar</button>
</div>
</div>
</div>

<div class="service">
<div class="service-inner">
<div class="service-front">
<i class="fas fa-laptop icon-online"></i>
<h3>Consultas Online</h3>
<p>Asesor√≠a desde la comodidad de tu hogar.</p>
</div>
<div class="service-back">
<ul>
<li>Videollamadas semanales</li>
<li>Soporte v√≠a chat</li>
<li>Material exclusivo</li>
</ul>
<button onclick="location.href='#consulta'">Solicitar</button>
</div>
</div>
</div>

</div>
</section> 
<!-- FIN SERVICIOS -->

<!-- PROCESO DE INTERVENCI√ìN NUTRICIONAL -->
<section id="metodologia">
<h2>Proceso de Intervenci√≥n Nutricional</h2>

<p style="max-width:750px; margin:0 auto 40px; text-align:center;">
La intervenci√≥n se desarrolla bajo un modelo estructurado, individualizado y basado en evidencia cient√≠fica,
orientado a la mejora de la composici√≥n corporal, el rendimiento y la salud metab√≥lica.
</p>

<div class="testimonios-container">

  <div class="testimonio-card">
    <h3>1. Valoraci√≥n Cl√≠nica y Funcional</h3>
    <p>
    Evaluaci√≥n integral del estado nutricional, antecedentes relevantes, h√°bitos, contexto
    personal y objetivos. Se establecen indicadores iniciales que servir√°n como referencia
    para medir la evoluci√≥n.
    </p>
  </div>

  <div class="testimonio-card">
    <h3>2. Planificaci√≥n Estrat√©gica Individualizada</h3>
    <p>
    Dise√±o de un protocolo nutricional y de entrenamiento adaptado a las necesidades
    fisiol√≥gicas y estilo de vida, priorizando adherencia, sostenibilidad y eficacia.
    </p>
  </div>

  <div class="testimonio-card">
    <h3>3. Implementaci√≥n Supervisada</h3>
    <p>
    Aplicaci√≥n estructurada del programa con directrices claras, herramientas pr√°cticas
    y soporte continuo para garantizar correcta ejecuci√≥n.
    </p>
  </div>

  <div class="testimonio-card">
    <h3>4. Seguimiento, Evaluaci√≥n y Ajuste</h3>
    <p>
    Revisi√≥n peri√≥dica mediante indicadores objetivos y an√°lisis de progreso,
    realizando ajustes estrat√©gicos para optimizar resultados y consolidar cambios duraderos.
    </p>
  </div>

</div>
</section>
  
<!-- BENEFICIOS INCLUIDOS -->
<section id="incluye-todos">
<h2>¬øQu√© incluyen todos los planes?</h2>
<ul>
<li><i class="fas fa-check-circle"></i> Rutina de Entrenamiento personalizada</li>
<li><i class="fas fa-check-circle"></i> Plan de Comidas Personalizado</li>
<li><i class="fas fa-check-circle"></i> Cambios de comidas y entrenamiento peri√≥dicos</li>
<li><i class="fas fa-check-circle"></i> Videos de Ejercicios</li>
<li><i class="fas fa-check-circle"></i> Lista de compras descargable</li>
<li><i class="fas fa-check-circle"></i> Sustituci√≥n de alimentos</li>
<li><i class="fas fa-check-circle"></i> Adaptaci√≥n a Alergias/intolerancias</li>
<li><i class="fas fa-check-circle"></i> Registro de Ejercicios y Progreso</li>
<li><i class="fas fa-check-circle"></i> Atenci√≥n Email Online 24/7</li>
<li><i class="fas fa-check-circle"></i> APP en tu m√≥vil</li>
<li><i class="fas fa-check-circle"></i> Acceso al grupo privado en Facebook</li>
</ul>
  <!-- BLOQUE DIN√ÅMICO DE PLAZAS -->
<div id="plazas-container" style="
    max-width: 850px;
    margin: 40px auto;
    padding: 30px;
    border-radius: 24px;
    background: rgba(255,255,255,0.05);
    backdrop-filter: blur(20px);
    box-shadow: 0 8px 25px rgba(0,0,0,0.3);
    text-align: center;
    color: #ff4d4d;
    font-weight: bold;
    font-size: 1.2rem;
">
  <p id="contador-plazas"></p>
  <p style="margin-top:12px; font-size:1rem; animation:none;">
    RECUERDA APROVECHAR EL DESCUENTO. LAS PLAZAS SON LIMITADAS. ¬°APROVECHA Y HAZ TU CAMBIO YA!
  </p>
</div>

<!-- TESTIMONIOS -->
<section id="testimonios">
<h2>Resultados Reales</h2>

<div class="testimonios-container">

  <div class="testimonio-card">
    <p class="testimonio-text">
      ‚ÄúPerd√≠ 8kg en 4 meses sin pasar hambre. Aprend√≠ a comer bien y mantener resultados.‚Äù
    </p>
    <div class="testimonio-user">
      <strong>Carlos M.</strong>
      <span>Valencia</span>
    </div>
  </div>

  <div class="testimonio-card">
    <p class="testimonio-text">
      ‚ÄúMe ayud√≥ a mejorar mi rendimiento en competici√≥n. M√°s energ√≠a y mejor recuperaci√≥n.‚Äù
    </p>
    <div class="testimonio-user">
      <strong>Laura G.</strong>
      <span>Barcelona</span>
    </div>
  </div>

  <div class="testimonio-card">
    <p class="testimonio-text">
      ‚ÄúPor fin encontr√© un plan que se adapta a mi trabajo y horarios.‚Äù
    </p>
    <div class="testimonio-user">
      <strong>David R.</strong>
      <span>Madrid</span>
    </div>
  </div>

</div>
</section>

<!-- PLANES DE SUSCRIPCI√ìN -->
<section id="planes">
<h2>Programas de Intervenci√≥n</h2>
<p style="max-width:750px; margin:0 auto 40px; text-align:center;">
Programas estructurados de intervenci√≥n nutricional y entrenamiento,
adaptados al nivel de acompa√±amiento y seguimiento requerido.
</p>
<div class="services">

<!-- Suscripci√≥n Anual -->
<div class="service">
<div class="service-inner">
<div class="service-front">
<i class="fas fa-star icon-planes"></i>
<h3>Suscripci√≥n Anual</h3>
<p style="font-size:1.5rem;font-weight:bold;">‚Ç¨349 / 12 meses</p>
<small>*Facturado anualmente</small>
</div>
<div class="service-back">
<ul>
<li>Mejor valor</li>
<li>Acceso completo a todos los planes</li>
<li>Soporte 24/7</li>
</ul>
<button onclick="location.href='#consulta'">√öNETE AHORA</button>
</div>
</div>
</div>

<!-- Suscripci√≥n Trimestral -->
<div class="service">
<div class="service-inner">
<div class="service-front">
<i class="fas fa-calendar-alt icon-deporte"></i>
<h3>Suscripci√≥n Trimestral</h3>
<p style="font-size:1.5rem;font-weight:bold;">‚Ç¨119 / 3 meses</p>
<small>*Facturado trimestral</small>
</div>
<div class="service-back">
<ul>
<li>Plan flexible</li>
<li>Actualizaci√≥n peri√≥dica</li>
<li>Soporte online</li>
</ul>
<button onclick="location.href='#consulta'">√öNETE AHORA</button>
</div>
</div>
</div>

<!-- Suscripci√≥n Mensual -->
<div class="service">
<div class="service-inner">
<div class="service-front">
<i class="fas fa-dollar-sign icon-peso"></i>
<h3>Suscripci√≥n Mensual</h3>
<p style="font-size:1.5rem;font-weight:bold;">‚Ç¨49 / mes</p>
<small>*Facturado mensualmente</small>
</div>
<div class="service-back">
<ul>
<li>Acceso mensual</li>
<li>Ideal para probar</li>
<li>Soporte b√°sico</li>
</ul>
<button onclick="location.href='#consulta'">√öNETE AHORA</button>
</div>
</div>
</div>

</div>
</section>

<!-- FORMULARIO -->
<section id="consulta">
<h2>Formulario de Consulta</h2>
<form class="glass-form">
<div class="form-group">
<input type="text" required placeholder=" ">
<label>Nombre</label>
<i class="fas fa-user icon-input"></i>
</div>
<div class="form-group">
<input type="email" required placeholder=" ">
<label>Email</label>
<i class="fas fa-envelope icon-input"></i>
</div>
<div class="form-group">
<textarea required placeholder=" "></textarea>
<label>Mensaje</label>
<i class="fas fa-comment icon-input"></i>
</div>
<button type="submit" style="background:var(--primary);color:#000;padding:14px 28px;border:none;border-radius:var(--radius);font-weight:600;cursor:pointer;">Enviar</button>
</form>
</section>

</main>

<!-- BOTONES FIJOS -->
<button id="scrollTopBtn"><i class="fas fa-arrow-up"></i></button>
<a id="whatsappBtn" href="https://wa.me/tu-numero" target="_blank"><i class="fab fa-whatsapp"></i></a>

<footer>
<p>¬© 2026 Gerard Valls. Todos los derechos reservados.</p>
</footer>

<script>
// TOGGLE THEME
const toggleBtn = document.getElementById('toggle-theme');
toggleBtn.addEventListener('click', () => {
  document.body.classList.toggle('light');
  toggleBtn.textContent = document.body.classList.contains('light') ? 'Cambiar a modo oscuro' : 'Cambiar a modo claro';
});

// SCROLL TOP & WHATSAPP BUTTON
const scrollBtn = document.getElementById('scrollTopBtn');
const whatsappBtn = document.getElementById('whatsappBtn');

window.addEventListener('scroll', () => {
  if(window.scrollY > 300){
    scrollBtn.classList.add('show');
    whatsappBtn.classList.add('show'); // Aparece WhatsApp
  } else {
    scrollBtn.classList.remove('show');
    whatsappBtn.classList.remove('show'); // Desaparece WhatsApp
  }
});

scrollBtn.addEventListener('click', () => window.scrollTo({top:0,behavior:'smooth'}));
</script>
<script>
// ===== CONFIGURACI√ìN =====
const PLAZAS_INICIALES = 8;
const OCUPACION_AUTOMATICA_INTERVALO = 10000; // cada 10 segundos

// ===== ELEMENTOS =====
const contador = document.getElementById("contador-plazas");
const headerPlazasNum = document.getElementById("header-plazas-num");
const headerPlazasMsg = document.getElementById("header-plazas");
const botones = document.querySelectorAll(".service-back button, #consulta button");
const contenedorPlazas = document.getElementById("plazas-container");

// ===== REINICIO MENSUAL AUTOM√ÅTICO =====
const mesActual = new Date().getMonth();
const mesGuardado = localStorage.getItem("mesPlazas");

if (!mesGuardado || parseInt(mesGuardado) !== mesActual) {
  localStorage.setItem("plazas", PLAZAS_INICIALES);
  localStorage.setItem("mesPlazas", mesActual);
}

let plazas = parseInt(localStorage.getItem("plazas") || PLAZAS_INICIALES);
let plazasPrevias = plazas;
let glowTween = null;
let botonesTween = [];

// ===== FUNCIONES =====
function actualizarContador() {
  let spanHTML = "";

  if (plazas > 3) {
    spanHTML = `<span style="color:#00ffc0; font-weight:bold;">¬°Quedan ${plazas} plazas disponibles este mes!</span>`;
    quitarGlow();
  } else if (plazas > 0) {
    spanHTML = `<span class="blink" style="color:#ff4d4d; font-weight:bold;">‚ö†Ô∏è ¬°Solo quedan ${plazas} plazas!</span>`;
    aplicarGlow();
  } else {
    spanHTML = `<span style="color:#ff0000; font-weight:bold;">
      ‚ùå Todas las plazas est√°n ocupadas.<br><br>
      üëâ Lista de espera disponible.
    </span>`;
    bloquearBotones();
    quitarGlow();
  }

  contador.innerHTML = spanHTML;

  if (plazas !== plazasPrevias) {
    plazasPrevias = plazas;
    gsap.from("#contador-plazas span", { scale: 0, duration: 0.5, ease: "back.out(1.7)" });
  }

  actualizarHeaderPlazas();
}

function actualizarHeaderPlazas() {
  if (plazas > 0) {
    headerPlazasNum.textContent = plazas;
    if (plazas <= 3) {
      headerPlazasNum.classList.add("blink");
      headerPlazasNum.style.color = "#ff4d4d";
      headerPlazasNum.style.fontWeight = "bold";
    } else {
      headerPlazasNum.classList.remove("blink");
      headerPlazasNum.style.color = "";
      headerPlazasNum.style.fontWeight = "";
    }
    gsap.from(headerPlazasNum, { scale: 1.5, duration: 0.4, ease: "back.out(1.7)" });
  } else {
    headerPlazasMsg.innerHTML =
      "‚ùå Este mes las plazas est√°n completas. Lista de espera abierta.";
  }
}

function reducirPlaza() {
  if (plazas > 0) {
    plazas--;
    localStorage.setItem("plazas", plazas);
    actualizarContador();
  }
}

function bloquearBotones() {
  botones.forEach(btn => {
    btn.disabled = true;
    btn.style.opacity = "0.5";
    btn.textContent = "Lista de espera";
    gsap.killTweensOf(btn);
    btn.style.transform = "scale(1)";
  });
}

function aplicarGlow() {
  if (!glowTween) {
    contenedorPlazas.classList.add("glow-urgente");
    glowTween = gsap.fromTo(contenedorPlazas, 
      { scale: 1 }, 
      { scale: 1.05, yoyo: true, repeat: -1, duration: 0.6, ease: "power1.inOut" }
    );
  }

  botones.forEach(btn => {
    if (!btn.disabled && !botonesTween.includes(btn)) {
      const tween = gsap.fromTo(btn, 
        { scale: 1 }, 
        { scale: 1.1, yoyo: true, repeat: -1, duration: 0.6, ease: "power1.inOut" }
      );
      botonesTween.push(btn);
      btn._tween = tween;
    }
  });
}

function quitarGlow() {
  if (glowTween) {
    glowTween.kill();
    glowTween = null;
  }
  contenedorPlazas.classList.remove("glow-urgente");
  contenedorPlazas.style.transform = "scale(1)";

  botones.forEach(btn => {
    if (btn._tween) {
      btn._tween.kill();
      delete btn._tween;
    }
    btn.style.transform = "scale(1)";
  });
  botonesTween = [];
}

function mostrarFeedback(btn, mensaje = "¬°Plaza reservada!") {
  const feedback = document.createElement("span");
  feedback.textContent = mensaje;
  Object.assign(feedback.style, {
    position: "absolute",
    top: "-30px",
    left: "50%",
    transform: "translateX(-50%)",
    background: "#00ffc0",
    color: "#000",
    padding: "6px 12px",
    borderRadius: "12px",
    fontWeight: "600",
    fontSize: "0.85rem",
    boxShadow: "0 4px 12px rgba(0,0,0,0.3)",
    opacity: "0",
    pointerEvents: "none",
    zIndex: "1000"
  });

  btn.style.position = "relative";
  btn.appendChild(feedback);

  gsap.to(feedback, { opacity: 1, y: -10, duration: 0.5, ease: "back.out(1.7)" });
  gsap.to(feedback, { opacity: 0, y: -30, duration: 0.5, delay: 2, onComplete: () => feedback.remove() });
}

// ===== EVENTO GLOBAL =====
document.body.addEventListener("click", e => {
  const btn = e.target.closest(".service-back button, #consulta button");
  if (btn) {
    reducirPlaza();
    mostrarFeedback(btn);
  }
});

// ===== OCUPACI√ìN AUTOM√ÅTICA =====
function ocupacionAutomatica() {
  if (plazas > 0) {
    plazas--;
    localStorage.setItem("plazas", plazas);
    actualizarContador();
  }
}
setInterval(ocupacionAutomatica, OCUPACION_AUTOMATICA_INTERVALO);

// ===== INICIALIZAR =====
actualizarContador();
</script>


</body>
</html>
