<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gerard Valls - Nutrición Profesional</title>

<!-- Fuente -->
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">

<!-- Font Awesome -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/solid.min.js" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/brands.min.js" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/fontawesome.min.js" crossorigin="anonymous"></script>

<!-- GSAP -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.13.0/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.13.0/ScrollTrigger.min.js"></script>

<style>
:root{
  --primary:#00ffc0;
  --primary-hover:#00e6b8;
  --dark-bg:#1a1f3f;
  --light-bg:#f5f5f5;
  --text-dark:#e6e6e6;
  --text-light:#222;
  --radius:12px;
  --transition:.5s ease;
}
*{box-sizing:border-box;}
body{
  margin:0; font-family:'Montserrat',sans-serif;
  background:var(--dark-bg);
  color:var(--text-dark);
  overflow-x:hidden; line-height:1.6;
  transition:background-color 0.5s ease, color 0.5s ease;
}
body.light{background:var(--light-bg); color:var(--text-light);}
a{color:var(--primary); text-decoration:none; transition:.3s;}
a:hover{color:var(--primary-hover);}

/* Overlay de transición con degradado animado */
.theme-transition {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: linear-gradient(120deg, #00ffc0, #00bfff, #ff00c8, #ffbf00);
  background-size: 400% 400%;
  opacity: 0;
  pointer-events: none;
  z-index: 2000;
  transition: opacity 0.4s ease;
}
.theme-transition.active {
  opacity: 1;
  animation: gradientMove 0.8s ease forwards;
}
@keyframes gradientMove {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* Botón de tema */
#toggle-theme {
  position: fixed;
  top: 20px;
  right: 20px;
  background: var(--primary);
  color: #000;
  border: none;
  width: 48px;
  height: 48px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.3rem;
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
  transition: background 0.3s, transform 0.3s;
  z-index: 1001;
}
#toggle-theme:hover { background: var(--primary-hover); transform: scale(1.1); }
#toggle-theme.spin { animation: spin 0.6s ease; }
@keyframes spin {
  from { transform: rotate(0deg) scale(1); }
  to { transform: rotate(360deg) scale(1.1); }
}

/* Aquí siguen tus estilos de header, nav, main... */
</style>
</head>
<body>

<!-- Overlay de transición -->
<div class="theme-transition" id="theme-overlay"></div>

<!-- Botón de tema -->
<button id="toggle-theme" aria-label="Cambiar tema"><i class="fas fa-moon"></i></button>

<header>
<h1>Gerard Valls</h1>
<p>Nutrición personalizada para deportistas y personas activas</p>
<canvas id="headerParticles"></canvas>
</header>

<nav>
<a href="#servicios">Servicios</a>
<a href="#testimonios">Testimonios</a>
<a href="#consulta">Formulario</a>
</nav>

<main class="wrapper">
<!-- Aquí van tus secciones de servicios, testimonios y formulario -->
</main>

<footer>&copy; 2025 Gerard Valls - Todos los derechos reservados.</footer>

<button id="whatsapp-btn"><i class="fab fa-whatsapp"></i></button>
<button id="scrollTopBtn"><i class="fas fa-arrow-up"></i></button>

<script>
const themeBtn = document.getElementById('toggle-theme');
const overlay = document.getElementById('theme-overlay');

themeBtn.addEventListener('click', () => {
  overlay.classList.add("active");
  themeBtn.classList.add("spin");

  setTimeout(() => {
    document.body.classList.toggle('light');
    const isLight = document.body.classList.contains('light');
    themeBtn.innerHTML = isLight
      ? '<i class="fas fa-sun"></i>'
      : '<i class="fas fa-moon"></i>';
  }, 300); // cambia tema en mitad de la animación

  setTimeout(() => {
    overlay.classList.remove("active");
    themeBtn.classList.remove("spin");
  }, 800); // quita el overlay al final
});

/* GSAP animaciones */
gsap.from("header h1",{opacity:0,y:-50,duration:1});
gsap.from("header p",{opacity:0,y:30,duration:1,delay:0.3});
gsap.utils.toArray(".service").forEach((el,i)=>{
  gsap.from(el,{scrollTrigger:{trigger:el,start:"top 80%"},opacity:0,y:50,duration:0.6,delay:i*0.1});
});

/* Scroll top */
const scrollBtn=document.getElementById("scrollTopBtn");
window.addEventListener("scroll",()=>{window.scrollY>300?scrollBtn.classList.add("show"):scrollBtn.classList.remove("show");});
scrollBtn.addEventListener("click",()=>window.scrollTo({top:0,behavior:"smooth"}));

/* WhatsApp */
document.getElementById("whatsapp-btn").addEventListener("click",()=>{window.open("https://wa.me/34600000000","_blank");});

/* Form feedback */
document.getElementById('contact-form').addEventListener('submit',e=>{
  e.preventDefault();
  const form=e.target;
  fetch(form.action,{method:'POST',body:new FormData(form)})
  .then(r=>r.ok?"Mensaje enviado con éxito":"Error al enviar el mensaje")
  .then(msg=>{document.getElementById('form-feedback').textContent=msg;form.reset();})
  .catch(()=>document.getElementById('form-feedback').textContent="Hubo un error.");
});
</script>

</body>
</html>
