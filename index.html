<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gerard Valls - Nutrición Profesional</title>

<!-- Fuente -->
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<!-- GSAP -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.13.0/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.13.0/ScrollTrigger.min.js"></script>

<style>
:root{
  --primary:#00ffc0;
  --primary-hover:#00e6b8;
  --dark-bg:#1a1f3f;
  --light-bg:#f5f5f5;
  --text-dark:#e6e6e6;
  --text-light:#222;
  --radius:12px;
  --transition:.5s ease;
}
*{box-sizing:border-box;}
body{
  margin:0; font-family:'Montserrat',sans-serif;
  background:var(--dark-bg);
  color:var(--text-dark);
  overflow-x:hidden; line-height:1.6;
  transition:background var(--transition),color var(--transition);
}
body.light{background:var(--light-bg); color:var(--text-light);}
a{color:var(--primary); text-decoration:none; transition:.3s;}
a:hover{color:var(--primary-hover);}
header{
  position:relative;
  text-align:center;
  padding:120px 20px 100px;
  overflow:hidden;
}
header h1{
  font-size:3rem;
  background:linear-gradient(90deg,#00ffc0,#00bfff,#ff00c8,#ffbf00);
  -webkit-background-clip:text;
  color:transparent;
  text-shadow:0 0 20px rgba(0,255,192,0.5);
  z-index:1; position:relative;
  animation:gradMove 10s linear infinite;
}
header p{margin-top:10px;font-size:1.2rem; z-index:1; position:relative;}
#toggle-theme{
  margin-top:20px;
  background:var(--primary); color:#000;
  border:none; padding:10px 20px;
  border-radius:var(--radius); cursor:pointer;
  font-weight:600; transition:.4s;
  position:relative; z-index:1;
}
#toggle-theme:hover{background:var(--primary-hover); transform:translateY(-2px);}
@keyframes gradMove{0%{background-position:0 0;}50%{background-position:100% 0;}100%{background-position:0 0;}}

/* Navegación */
nav{
  position:sticky; top:0; background:rgba(42,55,96,0.85); backdrop-filter:blur(10px);
  display:flex; justify-content:center; gap:1rem; padding:12px; z-index:1000; transition:var(--transition);
}
body.light nav{background:rgba(245,245,245,0.9);}
nav a{font-weight:600; cursor:pointer;}

/* Main wrapper */
main.wrapper{
  max-width:1100px; margin:40px auto; padding:50px 30px 60px;
  border-radius:var(--radius); backdrop-filter:blur(15px); background:rgba(42,55,96,0.85); text-align:center;
  transition:var(--transition);
}
body.light main.wrapper{background:rgba(245,245,245,0.9);}

/* Secciones */
h2{font-size:2rem; margin-bottom:20px; position:relative; display:inline-block;}
h2::after{
  content:""; width:60px; height:3px; display:block; margin:8px auto 0; border-radius:2px; background:var(--primary);
  transform:scaleX(0); animation:lineDraw 1s forwards;
}
@keyframes lineDraw{to{transform:scaleX(1);}}

/* Servicios */
.services{display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:30px; perspective:1000px;}
.service{
  position:relative; background:rgba(255,255,255,0.05); border-radius:var(--radius); padding:25px;
  overflow:hidden; cursor:pointer; transition:transform .5s, box-shadow .5s, background .5s; text-align:center; transform-style:preserve-3d;
}
.service i{font-size:3rem; color:var(--primary); transition: transform .5s, color .5s, text-shadow .5s; z-index:5;}
.service:hover{transform:translateY(-10px) scale(1.05); box-shadow:0 0 30px var(--primary),0 20px 35px rgba(0,0,0,0.25); background:linear-gradient(135deg,#00ffc0,#00bfff,#ff00c8); color:white;}
.service:hover i{transform: scale(1.3) rotate(5deg); color:white; text-shadow:0 0 15px rgba(255,255,255,0.7);}

/* Efecto especial para Pérdida de Peso */
.service.weight-loss i {
  cursor: pointer;
  color: #ff6b6b;
  text-shadow: 0 0 15px rgba(255,107,107,0.7);
  transition: transform 0.5s, color 0.5s, text-shadow 0.5s;
}
.service.weight-loss:hover i {
  transform: scale(1.4) rotate(-10deg);
  text-shadow: 0 0 20px rgba(255,107,107,0.8);
}

/* Testimonios, formulario y resto de estilos se mantienen igual... */

/* Testimonios Carrusel 3D, Formulario Glass, WhatsApp, Scroll top, Footer... */

/* Responsive */
@media(max-width:600px){header h1{font-size:2rem;} header p{font-size:1rem;} .services{grid-template-columns:1fr;}}
</style>
</head>
<body>

<header>
<h1>Gerard Valls</h1>
<p>Nutrición personalizada para deportistas y personas activas</p>
<canvas id="headerParticles"></canvas>
<button id="toggle-theme">Cambiar a modo claro</button>
</header>

<nav>
<a href="#servicios">Servicios</a>
<a href="#testimonios">Testimonios</a>
<a href="#consulta">Formulario</a>
</nav>

<main class="wrapper">
<section id="servicios">
<h2>Servicios</h2>
<div class="services">
  <div class="service">
    <i class="fas fa-notes-medical"></i>
    <h3>Planes Personalizados</h3>
    <p>Planes adaptados a ti.</p>
  </div>
  <div class="service">
    <i class="fas fa-dumbbell"></i>
    <h3>Asesoría Deportiva</h3>
    <p>Optimiza tu rendimiento.</p>
  </div>
  <div class="service weight-loss">
    <i class="fas fa-weight-scale"></i>
    <h3>Pérdida de Peso</h3>
    <p>Programas sostenibles.</p>
  </div>
  <div class="service">
    <i class="fas fa-video"></i>
    <h3>Consultas Online</h3>
    <p>Desde cualquier lugar.</p>
  </div>
</div>
</section>

<!-- Secciones Testimonios y Formulario se mantienen igual -->

</main>

<footer>&copy; 2025 Gerard Valls - Todos los derechos reservados.</footer>

<button id="scrollTopBtn">↑</button>
<a href="https://wa.me/1234567890" target="_blank" id="whatsapp-btn"><i class="fab fa-whatsapp"></i></a>

<script>
// --- Modo oscuro/claro ---
const toggleBtn=document.getElementById('toggle-theme');
let darkMode=localStorage.getItem('darkMode')!=='false';
const setTheme=()=>{document.body.classList.toggle('light',!darkMode); toggleBtn.textContent=darkMode?'Cambiar a modo claro':'Cambiar a modo oscuro'; localStorage.setItem('darkMode',darkMode);}
toggleBtn.onclick=()=>{darkMode=!darkMode; setTheme();}
setTheme();

// --- Scroll top ---
const scrollBtn=document.getElementById('scrollTopBtn');
window.addEventListener('scroll',()=>{scrollBtn.style.display=(window.scrollY>200)?"block":"none"; scrollBtn.classList.toggle('show',window.scrollY>200);});
scrollBtn.onclick=()=>{window.scrollTo({top:0,behavior:'smooth'});};

// --- Scroll suave nav ---
document.querySelectorAll('nav a').forEach(link=>{link.addEventListener('click',e=>{e.preventDefault(); document.querySelector(link.getAttribute('href')).scrollIntoView({behavior:'smooth'});});});

// --- Formulario ---
document.getElementById('contact-form')?.addEventListener('submit', async e=>{
  e.preventDefault();
  const feedback=document.getElementById('form-feedback'); feedback.textContent="Enviando..."; feedback.classList.add('show');
  const formData=new FormData(e.target);
  try{await fetch(e.target.action,{method:'POST',body:formData}); feedback.textContent="¡Mensaje enviado con éxito!"; e.target.reset(); setTimeout(()=>{feedback.classList.remove('show');},3000);}
  catch{feedback.textContent="Error al enviar, inténtalo de nuevo."; setTimeout(()=>{feedback.classList.remove('show');},3000);}
});

// --- GSAP Animaciones Secciones ---
gsap.registerPlugin(ScrollTrigger);
gsap.utils.toArray('section').forEach(sec=>{gsap.from(sec,{opacity:0,y:60,duration:1,stagger:0.2,scrollTrigger:{trigger:sec,start:'top 80%',toggleActions:'play none none none'}});});

// --- GSAP Animaciones Servicios con efecto Pérdida de Peso ---
gsap.utils.toArray('.service').forEach((service, i) => {
  const icon = service.querySelector('i');
  gsap.from(icon, {
    opacity: 0,
    y: -30,
    scale: 0.7,
    rotationY: 180,
    duration: 0.8,
    delay: i * 0.2,
    ease: "back.out(1.7)",
    scrollTrigger: { trigger: service, start: "top 90%" }
  });

  const isWeightLoss = service.classList.contains('weight-loss');

  gsap.to(icon, {
    scale: isWeightLoss ? 1.2 : 1.1,
    rotation: isWeightLoss ? -5 : 0,
    textShadow: isWeightLoss ? '0 0 20px #ff6b6b' : '0 0 20px #00ffc0',
    color: isWeightLoss ? '#ff6b6b' : '#00ffc0',
    repeat: -1,
    yoyo: true,
    duration: 1.5,
    ease: "power1.inOut"
  });

  icon.addEventListener('mouseenter', () => {
    gsap.to(icon, { scale: isWeightLoss ? 1.4 : 1.3, rotation: isWeightLoss ? -10 : 5, duration: 0.5 });
  });
  icon.addEventListener('mouseleave', () => {
    gsap.to(icon, { scale: isWeightLoss ? 1.2 : 1.1, rotation: isWeightLoss ? -5 : 0, duration: 0.5 });
  });

  if (window.matchMedia("(max-width: 768px)").matches && isWeightLoss) {
    gsap.to(icon, {
      scale: 1.25,
      rotation: -5,
      textShadow: '0 0 25px #ff6b6b',
      repeat: -1,
      yoyo: true,
      duration: 1.5,
      ease: "power1.inOut"
    });
  }
});
</script>

</body>
</html>
