<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Gerard Valls - Nutrición personalizada para deportistas y personas activas.">
<title>Gerard Valls - Nutrición personalizada</title>
<link rel="icon" href="https://i.imgur.com/bsWQ2lX.png" type="image/png">

<script>
(() => {
  const darkMode = localStorage.getItem('darkMode') !== 'false';
  if (!darkMode) document.documentElement.classList.add('light');
  document.documentElement.lang = localStorage.getItem('lang') || 'es';
})();
</script>

<style>
:root{
  --bg:#2a3760; --text:#e6e6e6; --overlay:rgba(42,55,96,0.7);
  --link:#00ffc0; --link-hover:#00e6b8; --btn:#007b5e; --btn-hover:#005f47;
}
body.light{
  --bg:#f5f5f5; --text:#222; --overlay:rgba(255,255,255,0.95);
  --link:#007b5e; --link-hover:#005f47; --btn:#007b5e; --btn-hover:#005f47;
}
*{margin:0;padding:0;box-sizing:border-box;}
html,body{height:100%;font-family:Segoe UI,Tahoma,Verdana,sans-serif;transition:background 0.4s,color 0.4s;}
body{background:var(--bg);color:var(--text);}
main.wrapper{max-width:700px;margin:30px auto;padding:30px 20px 60px;border-radius:10px;background:var(--overlay);text-shadow:0 0 5px rgba(0,0,0,0.2);}
header{text-align:center;margin-bottom:25px;display:grid;gap:1rem;}
.photo{width:120px;height:120px;border-radius:50%;margin:0 auto;box-shadow:0 0 12px rgba(0,255,204,0.8);transition:transform 0.4s,box-shadow 0.4s;}
.photo:hover{transform:scale(1.05);box-shadow:0 0 16px rgba(0,255,204,1);}
section{margin-bottom:20px;}
ul{padding-left:20px;}
a{color:var(--link);text-decoration:none;transition:color 0.3s;}
a:hover{color:var(--link-hover);}
form{display:grid;gap:10px;}
input,textarea{width:100%;padding:8px;border-radius:5px;border:1px solid #ccc;font-size:0.95rem;}
input[aria-invalid="true"],textarea[aria-invalid="true"]{border-color:#ff4d4d;}
button{background:var(--btn);color:white;border:none;padding:10px 18px;border-radius:5px;cursor:pointer;transition:background 0.3s;}
button:hover{background:var(--btn-hover);}
.error-msg{color:#ff4d4d;font-size:0.9rem;min-height:1.2em;}
.form-feedback{font-weight:bold;text-align:center;margin-top:10px;}
footer{text-align:center;padding:15px;font-size:0.9rem;background:rgba(0,0,0,0.6);color:#ccc;position:fixed;width:100%;bottom:0;}
.toggle-theme,.language-dropdown button{padding:8px 12px;border-radius:5px;border:none;cursor:pointer;background:var(--btn);color:white;}
.toggle-theme:hover,.language-dropdown button:hover{background:var(--btn-hover);}
.language-dropdown{position:relative;display:inline-block;}
.language-dropdown-content{display:none;position:absolute;background:var(--bg);border-radius:5px;top:100%;left:0;min-width:120px;z-index:10;}
.language-dropdown-content button{width:100%;padding:8px;background:none;border:none;color:var(--text);text-align:left;cursor:pointer;}
.language-dropdown-content button:hover{background:var(--btn-hover);}
.language-dropdown.show .language-dropdown-content{display:block;}
.fade-in{opacity:0;transform:translateY(20px);transition:opacity 0.8s, transform 0.8s;}
.fade-in.visible{opacity:1;transform:translateY(0);}
@media(max-width:500px){main.wrapper{margin:20px;padding:20px 15px 40px;} .toggle-theme,.language-dropdown button{width:100%;}}
</style>
</head>
<body>

<main class="wrapper" role="main">
<header class="fade-in">
<h1 id="main-title">Gerard Valls - Nutrición personalizada</h1>
<p id="tagline">Nutrición personalizada para deportistas y personas activas</p>
<img src="https://i.imgur.com/gerard.jpg" alt="Gerard Valls sonriendo" class="photo" width="120" height="120" loading="lazy"/>
<div style="display:flex;gap:0.5rem;justify-content:center;flex-wrap:wrap;">
  <button class="toggle-theme" id="toggle-theme" aria-pressed="false">Cambiar a modo claro</button>
  <div class="language-dropdown" id="language-dropdown">
    <button id="language-btn" aria-haspopup="true" aria-expanded="false">Español</button>
    <div class="language-dropdown-content" id="lang-options">
      <button data-lang="es">Español</button>
      <button data-lang="ca">Català</button>
    </div>
  </div>
</div>
</header>

<section class="fade-in" aria-labelledby="servicios">
<h2 id="servicios">Servicios</h2>
<ul id="services-list">
<li>Planes de alimentación personalizados</li>
<li>Asesoría nutricional para deportistas</li>
<li>Programas para pérdida de peso saludable</li>
<li>Consultas en línea y presenciales</li>
</ul>
</section>

<section class="fade-in" aria-labelledby="contacto">
<h2 id="contacto">Contacto</h2>
<p class="contact">Teléfono: +34 666 555 667<br>Email: <a href="mailto:info@gerardvalls.com">info@gerardvalls.com</a></p>
</section>

<section class="fade-in" aria-labelledby="consulta">
<h2 id="consulta">Formulario de contacto</h2>
<form id="contact-form" novalidate>
<label for="name">Nombre completo</label>
<input type="text" id="name" required aria-describedby="error-name"/>
<span class="error-msg" id="error-name" aria-live="polite"></span>

<label for="email">Correo electrónico</label>
<input type="email" id="email" required aria-describedby="error-email"/>
<span class="error-msg" id="error-email" aria-live="polite"></span>

<label for="message">Mensaje</label>
<textarea id="message" required aria-describedby="error-message"></textarea>
<span class="error-msg" id="error-message" aria-live="polite"></span>

<button type="submit">Enviar</button>
<span class="form-feedback" id="form-feedback" role="alert" aria-live="polite"></span>
</form>
</section>

<footer class="fade-in">&copy; 2025 Gerard Valls - Todos los derechos reservados.</footer>

<script>
document.addEventListener("DOMContentLoaded",()=>{
  // Tema
  const toggleBtn=document.getElementById('toggle-theme');
  let darkMode=localStorage.getItem('darkMode')!=='false';
  const setTheme=()=>{document.body.classList.toggle('light',!darkMode);toggleBtn.textContent=darkMode?'Cambiar a modo claro':'Cambiar a modo oscuro';localStorage.setItem('darkMode',darkMode);}
  toggleBtn.onclick=()=>{darkMode=!darkMode;setTheme();}
  setTheme();

  // Idioma
  const langBtn=document.getElementById('language-btn'), langDropdown=document.getElementById('language-dropdown');
  const langOptions=document.getElementById('lang-options');
  let currentLang=localStorage.getItem('lang')||'es';
  const translations={
    es:{title:"Gerard Valls - Nutrición personalizada",tagline:"Nutrición personalizada para deportistas y personas activas",
      servicios:["Planes de alimentación personalizados","Asesoría nutricional para deportistas","Programas para pérdida de peso saludable","Consultas en línea y presenciales"],
      contacto:"Teléfono: +34 666 555 667\nEmail: info@gerardvalls.com",
      form:{name:"Nombre completo",email:"Correo electrónico",message:"Mensaje",submit:"Enviar",errorName:"Por favor, introduce tu nombre.",errorEmail:"Correo no válido.",errorMessage:"El mensaje debe tener al menos 10 caracteres."}},
    ca:{title:"Gerard Valls - Nutrició personalitzada",tagline:"Nutrició personalitzada per a esportistes i persones actives",
      servicios:["Plans d'alimentació personalitzats","Assessorament nutricional per a esportistes","Programes de pèrdua de pes saludable","Consultes en línia i presencials"],
      contacto:"Telèfon: +34 666 555 667\nEmail: info@gerardvalls.com",
      form:{name:"Nom complet",email:"Correu electrònic",message:"Missatge",submit:"Enviar",errorName:"Si us plau, introdueix el teu nom.",errorEmail:"Correu no vàlid.",errorMessage:"El missatge ha de tenir almenys 10 caràcters."}}
  };
  const setLang=(lang)=>{
    currentLang=lang; const t=translations[lang];
    document.getElementById('main-title').textContent=t.title;
    document.getElementById('tagline').textContent=t.tagline;
    document.getElementById('services-list').innerHTML=t.servicios.map(i=>`<li>${i}</li>`).join('');
    document.querySelector('.contact').innerHTML=t.contacto.replace(/\n/g,'<br/>');
    document.querySelector('label[for="name"]').textContent=t.form.name;
    document.querySelector('label[for="email"]').textContent=t.form.email;
    document.querySelector('label[for="message"]').textContent=t.form.message;
    document.querySelector('#contact-form button').textContent=t.form.submit;
    document.documentElement.lang=lang;
    langBtn.textContent=lang==='es'?'Español':'Català';
    localStorage.setItem('lang',lang);
  }
  langBtn.onclick=()=>{langDropdown.classList.toggle('show');langBtn.setAttribute('aria-expanded',langDropdown.classList.contains('show'));}
  langOptions.querySelectorAll('button').forEach(btn=>btn.onclick=()=>{setLang(btn.dataset.lang);langDropdown.classList.remove('show');langBtn.setAttribute('aria-expanded','false');});
  setLang(currentLang);

  // Formulario
  const form=document.getElementById('contact-form'), name=form.name, email=form.email, message=form.message, feedback=document.getElementById('form-feedback');
  const debounce=(fn,delay=300)=>{let t; return(...a)=>{clearTimeout(t);t=setTimeout(()=>fn(...a),delay);};};
  const validate=(f)=>{const t=translations[currentLang].form; if(f===name){name.value.trim()===""?name.setAttribute('aria-invalid','true')&&(document.getElementById('error-name').textContent=t.errorName):name.setAttribute('aria-invalid','false')&&(document.getElementById('error-name').textContent="");}
  if(f===email){const p=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;(!email.value.trim()||!p.test(email.value.trim()))?email.setAttribute('aria-invalid','true')&&(document.getElementById('error-email').textContent=t.errorEmail):email.setAttribute('aria-invalid','false')&&(document.getElementById('error-email').textContent="");}
  if(f===message){message.value.trim().length<10?message.setAttribute('aria-invalid','true')&&(document.getElementById('error-message').textContent=t.errorMessage):message.setAttribute('aria-invalid','false')&&(document.getElementById('error-message').textContent="");}}
  [name,email,message].forEach(f=>f.addEventListener('input',debounce(()=>validate(f),300)));
  form.onsubmit=e=>{e.preventDefault();[name,email,message].forEach(f=>validate(f));if([name,email,message].some(f=>f.getAttribute('aria-invalid')==='true'))return;feedback.style.color='#00c853';feedback.textContent=currentLang==='es'?'¡Mensaje enviado correctamente!':'Missatge enviat correctament!';form.reset();setTimeout(()=>feedback.textContent='',5000);}

  // Animación scroll
  const faders=document.querySelectorAll('.fade-in');
  const obs=new IntersectionObserver((e,o)=>{e.forEach(x=>{if(x.isIntersecting){x.target.classList.add('visible');o.unobserve(x.target);}})},{threshold:0.1});
  faders.forEach(f=>obs.observe(f));
});
</script>

</body>
</html>
