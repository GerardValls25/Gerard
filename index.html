<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gerard Valls - Nutrición Profesional</title>

<!-- Fuente -->
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">

<!-- Font Awesome (optimizado: solo CSS) -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous">

<!-- GSAP (defer para carga más rápida) -->
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.13.0/gsap.min.js"></script>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.13.0/ScrollTrigger.min.js"></script>

<style>
:root{
  --primary:#00ffc0;
  --primary-hover:#00e6b8;
  --dark-bg:#1a1f3f;
  --light-bg:#f5f5f5;
  --text-dark:#e6e6e6;
  --text-light:#222;
  --radius:12px;
  --transition:.5s ease;
}
*{box-sizing:border-box;}
body{
  margin:0; font-family:'Montserrat',sans-serif;
  background:var(--dark-bg);
  color:var(--text-dark);
  overflow-x:hidden; line-height:1.6;
  transition:background var(--transition),color var(--transition);
}
body.light{background:var(--light-bg); color:var(--text-light);}

/* Detecta el modo del sistema si no hay preferencia guardada */
@media (prefers-color-scheme: light){
  body:not(.dark):not(.light){background:var(--light-bg);color:var(--text-light);}
}

a{color:var(--primary);text-decoration:none;transition:.3s;}
a:hover{color:var(--primary-hover);}

header{text-align:center;padding:120px 20px 100px;position:relative;}
header h1{
  font-size:3rem;
  background:linear-gradient(90deg,#00ffc0,#00bfff,#ff00c8,#ffbf00);
  -webkit-background-clip:text;
  color:transparent;
  text-shadow:0 0 20px rgba(0,255,192,0.5);
  animation:gradMove 10s linear infinite;
}
header p{margin-top:10px;font-size:1.2rem;}
#toggle-theme{
  margin-top:20px;
  background:var(--primary);color:#000;border:none;
  padding:10px 20px;border-radius:var(--radius);
  cursor:pointer;font-weight:600;
  display:inline-flex;align-items:center;gap:8px;
  transition:.4s;position:relative;
}
#toggle-theme:hover{background:var(--primary-hover);transform:translateY(-2px);}

@keyframes gradMove{0%{background-position:0 0;}50%{background-position:100% 0;}100%{background-position:0 0;}}

/* Reutilizable */
@keyframes bounce {
  0%   {transform:scale(1);}
  30%  {transform:scale(1.3) rotate(-5deg);}
  50%  {transform:scale(0.85) rotate(3deg);}
  70%  {transform:scale(1.15) rotate(-2deg);}
  85%  {transform:scale(0.95) rotate(1deg);}
  100% {transform:scale(1) rotate(0);}
}
#toggle-theme i.bounce, #toggle-theme span.bounce {
  display:inline-block;
  animation:bounce 0.5s cubic-bezier(0.68,-0.55,0.27,1.55);
}
@keyframes button-bounce {
  0%{transform:scale(1);}25%{transform:scale(1.08);}
  50%{transform:scale(0.95);}75%{transform:scale(1.03);}
  100%{transform:scale(1);}
}
#toggle-theme.button-bounce{animation:button-bounce 0.45s ease;}

/* Navegación */
nav{position:sticky;top:0;background:rgba(42,55,96,0.85);backdrop-filter:blur(10px);
  display:flex;justify-content:center;gap:1rem;padding:12px;z-index:1000;}
body.light nav{background:rgba(245,245,245,0.9);}
nav a{font-weight:600;cursor:pointer;}

/* Main wrapper */
main.wrapper{
  max-width:1100px;margin:40px auto;padding:50px 30px 60px;
  border-radius:var(--radius);backdrop-filter:blur(15px);
  background:rgba(42,55,96,0.85);text-align:center;
}
body.light main.wrapper{background:rgba(245,245,245,0.9);}

/* --- Secciones y Cards --- */
h2{font-size:2rem;margin-bottom:20px;position:relative;display:inline-block;}
h2::after{content:"";width:60px;height:3px;display:block;margin:8px auto 0;
  border-radius:2px;background:var(--primary);transform:scaleX(0);
  animation:lineDraw 1s forwards;}
@keyframes lineDraw{to{transform:scaleX(1);}}

.services{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:30px;perspective:1200px;}
.service-inner{position:relative;width:100%;min-height:250px;transform-style:preserve-3d;transition:transform 0.8s ease;}
.service:hover .service-inner{transform:rotateY(180deg);}
.service-front,.service-back{position:absolute;width:100%;height:100%;backface-visibility:hidden;
  border-radius:var(--radius);padding:25px;display:flex;flex-direction:column;justify-content:center;align-items:center;}
.service-front{background:rgba(255,255,255,0.05);}
.service-front i{font-size:3rem;margin-bottom:10px;color:var(--primary);}
.service-back{background:linear-gradient(135deg,#00ffc0,#00bfff);transform:rotateY(180deg);color:#000;}
.service-back ul{text-align:left;margin:10px 0;padding-left:20px;}
.service-back button{margin-top:10px;background:white;color:var(--primary);font-weight:bold;border:none;
  padding:10px 16px;border-radius:var(--radius);cursor:pointer;}
.service-back button:hover{background:var(--primary);color:#000;}

/* Testimonios */
.testimonial-carousel{position:relative;max-width:800px;margin:0 auto;overflow:hidden;}
.testimonial-track{display:flex;}
.testimonial{min-width:100%;margin:0 10px;background:rgba(255,255,255,0.05);
  border-radius:12px;padding:25px;text-align:center;box-shadow:0 8px 25px rgba(0,0,0,0.2);}
.testimonial i{font-size:2.5rem;color:var(--primary);margin-bottom:10px;}
.testimonial-btn{position:absolute;top:50%;transform:translateY(-50%);
  background:rgba(0,0,0,0.5);color:white;border:none;
  padding:12px 18px;font-size:1.5rem;cursor:pointer;border-radius:50%;}
.testimonial-btn:hover{background:var(--primary);}
.testimonial-btn.prev{left:0;}.testimonial-btn.next{right:0;}
.testimonial-dots{display:flex;justify-content:center;gap:8px;margin-top:15px;}
.testimonial-dots .dot{width:12px;height:12px;background:var(--primary);border-radius:50%;opacity:0.5;}
.testimonial-dots .dot.active{opacity:1;}

/* Formulario Glass */
.glass-form{display:flex;flex-direction:column;gap:20px;margin-top:20px;padding:30px;
  border-radius:16px;background:rgba(255,255,255,0.05);backdrop-filter:blur(15px);}
body.light .glass-form{background:rgba(255,255,255,0.25);}
.form-group{position:relative;}
.form-group input, .form-group textarea{
  width:100%;padding:16px 14px 16px 36px;border-radius:12px;
  border:1px solid rgba(255,255,255,0.3);background:rgba(255,255,255,0.1);
  color:white;font-size:1rem;}
body.light .glass-form input, body.light .glass-form textarea{background:rgba(255,255,255,0.9);color:var(--text-light);}
.form-group label{position:absolute;left:36px;top:50%;transform:translateY(-50%);pointer-events:none;color:rgba(255,255,255,0.6);}
body.light .glass-form label{color:rgba(0,0,0,0.6);}
button{background:var(--primary);color:#000;border:none;padding:14px 24px;border-radius:var(--radius);cursor:pointer;font-weight:600;}
button:hover{background:var(--primary-hover);transform:translateY(-2px);}

/* Botones flotantes */
#whatsapp-btn{position:fixed;bottom:140px;right:20px;background:#25D366;color:white;
  border:none;border-radius:50%;width:60px;height:60px;font-size:1.8rem;
  display:flex;align-items:center;justify-content:center;
  cursor:pointer;box-shadow:0 5px 15px rgba(0,0,0,0.3);}
#scrollTopBtn{position:fixed;bottom:60px;right:20px;background:var(--primary);color:white;
  border:none;padding:14px 18px;border-radius:50%;font-size:1.3rem;display:none;}
#scrollTopBtn.show{display:block;}

footer{text-align:center;padding:20px;font-size:0.9rem;opacity:0.8;}
@media(max-width:600px){header h1{font-size:2rem;}header p{font-size:1rem;}.services{grid-template-columns:1fr;}}
</style>
</head>
<body>

<header>
<h1>Gerard Valls</h1>
<p>Nutrición personalizada para deportistas y personas activas</p>
<button id="toggle-theme"><i class="fas fa-moon"></i><span>Cambiar a modo claro</span></button>
</header>

<nav>
<a href="#servicios">Servicios</a>
<a href="#testimonios">Testimonios</a>
<a href="#consulta">Formulario</a>
</nav>

<main class="wrapper">
<!-- ... secciones de servicios, testimonios y formulario iguales ... -->
</main>

<footer>&copy; 2025 Gerard Valls - Todos los derechos reservados.</footer>

<button id="whatsapp-btn"><i class="fab fa-whatsapp"></i></button>
<button id="scrollTopBtn"><i class="fas fa-arrow-up"></i></button>

<script defer>
const toggleBtn=document.getElementById('toggle-theme');
const themeIcon=toggleBtn.querySelector('i');
const themeText=toggleBtn.querySelector('span');

// Cargar preferencia guardada
if(localStorage.getItem('theme')==='light'){
  document.body.classList.add('light');
  themeIcon.classList.replace('fa-moon','fa-sun');
  themeText.textContent="Cambiar a modo oscuro";
}

// Alternar tema
toggleBtn.addEventListener('click',()=>{
  toggleBtn.classList.add('button-bounce');
  setTimeout(()=>toggleBtn.classList.remove('button-bounce'),450);

  document.body.classList.toggle('light');
  const isLight=document.body.classList.contains('light');

  themeIcon.classList.add('animate');
  themeText.classList.add('fade-out');

  setTimeout(()=>{
    themeText.textContent=isLight?"Cambiar a modo oscuro":"Cambiar a modo claro";
    themeText.classList.remove('fade-out');
    themeText.classList.add('bounce');
    themeIcon.classList.add('bounce');
    setTimeout(()=>{
      themeText.classList.remove('bounce');
      themeIcon.classList.remove('bounce');
    },500);
  },300);

  if(isLight){
    themeIcon.classList.replace('fa-moon','fa-sun');
  } else {
    themeIcon.classList.replace('fa-sun','fa-moon');
  }

  localStorage.setItem('theme',isLight?'light':'dark');
});

// Scroll top
const scrollBtn=document.getElementById("scrollTopBtn");
window.addEventListener("scroll",()=>{window.scrollY>300?scrollBtn.classList.add("show"):scrollBtn.classList.remove("show");});
scrollBtn.addEventListener("click",()=>window.scrollTo({top:0,behavior:"smooth"}));

// WhatsApp
document.getElementById("whatsapp-btn").addEventListener("click",()=>window.open("https://wa.me/34600000000","_blank"));

// Animaciones GSAP
gsap.from("header h1",{opacity:0,y:-50,duration:1});
gsap.from("header p",{opacity:0,y:30,duration:1,delay:0.3});
gsap.utils.toArray(".service").forEach((el,i)=>{
  gsap.from(el,{scrollTrigger:{trigger:el,start:"top 80%"},opacity:0,y:50,duration:0.6,delay:i*0.1});
});
</script>
</body>
</html>
